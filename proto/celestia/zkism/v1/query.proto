syntax = "proto3";

package celestia.zkism.v1;

import "celestia/zkism/v1/types.proto";
import "cosmos/base/query/v1beta1/pagination.proto";
import "google/api/annotations.proto";
import "gogoproto/gogo.proto";

option go_package = "github.com/celestiaorg/celestia-app/x/zkism/types";

// Query defines the zkism module Query service.
service Query {
  // Ism defines an rpc method for querying an ISM by ID.
  rpc Ism(QueryIsmRequest) returns (QueryIsmResponse) {
    option (google.api.http).get = "/celestia/zkism/v1/isms/{id}";
  }

  // Isms defines an rpc method for querying all ISMs.
  rpc Isms(QueryIsmsRequest) returns (QueryIsmsResponse) {
    option (google.api.http).get = "/celestia/zkism/v1/isms";
  }

  // Verifier defines an rpc method for querying a Verifier by ID.
  rpc Verifier(QueryVerifierRequest) returns (QueryVerifierResponse) {
    option (google.api.http).get = "/celestia/zkism/v1/verifiers/{id}";
  }

  // Verifiers defines an rpc method for querying all Verifiers.
  rpc Verifiers(QueryVerifiersRequest) returns (QueryVerifiersResponse) {
    option (google.api.http).get = "/celestia/zkism/v1/verifiers";
  }

  // Params defines an rpc method for querying the module parameters.
  rpc Params(QueryParamsRequest) returns (QueryParamsResponse) {
    option (google.api.http).get = "/celestia/zkism/v1/params";
  }
}

// QueryIsmRequest is the request type for the Ism rpc method.
message QueryIsmRequest {
  string id = 1;
}

// QueryVerifierRequest is the request type for the Verifier rpc method.
message QueryVerifierRequest{
  string id = 1;
}

// QueryIsmResponse is the response type for the Ism rpc method.
message QueryIsmResponse {
  ZKExecutionISM ism = 1 [(gogoproto.nullable) = false];
}

// QueryVerifierResponse is the response type for the Verifier rpc method.
message QueryVerifierResponse{
  StateTransitionVerifier verifier = 1 [(gogoproto.nullable) = false];
}

// QueryIsmsRequest is the request type for the Isms rpc method.
message QueryIsmsRequest {
  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 1;
}


// QueryIsmsRequest is the request type for the Isms rpc method.
message QueryVerifiersRequest {
  // pagination defines an optional pagination for the request.
  cosmos.base.query.v1beta1.PageRequest pagination = 1;
}


// QueryIsmsResponse is the response type for the Isms rpc method.
message QueryIsmsResponse {
  // isms is a list of zk execution isms.
  repeated ZKExecutionISM isms = 1 [(gogoproto.nullable) = false];
  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryVerifiersResponse is the response type for the Verifiers rpc method.
message QueryVerifiersResponse{
  repeated StateTransitionVerifier verifiers = 1 [(gogoproto.nullable) = false];
  // pagination defines the pagination in the response.
  cosmos.base.query.v1beta1.PageResponse pagination = 2;
}

// QueryParamsRequest is the request type for the Params rpc method.
message QueryParamsRequest {}

// QueryParamsResponse is the response type for the Params rpc method.
message QueryParamsResponse {
  // params contains the module parameters
  Params params = 1 [(gogoproto.nullable) = false];
}
